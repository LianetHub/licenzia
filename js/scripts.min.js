(()=>{"use strict";$((function(){function e(e,s){if(e.find(".file-loader__desc").addClass("hidden"),0==e.find(".file-loader__name").length){let s=$("<span/>",{class:"file-loader__name"});e.find(".file-loader__body").append(s)}e.find(".file-loader__name").text(s.name)}$(".info-tooltip").length>0&&$(".info-tooltip").tooltip(),$(document).on("click",(function(e){let s=$(e.target);if((s.hasClass("icon-menu")||s[0].closest(".sidebar__close"))&&($("body").toggleClass("open-menu"),$(".sidebar").toggleClass("active")),s.hasClass("sidebar__menu-btn")&&(s.toggleClass("active"),s.next().slideToggle()),s[0].closest(".table__delete")&&s.closest("tr").remove(),s[0].closest("[data-copy]")&&function(e){let s="#"+e.data("copy"),t=$("<input>",{class:"hidden",type:"text",value:"INPUT"===$(s)[0].tagName?$(s).val():$(s).text()}),l=$("<div/>",{class:"tooltip",text:"Скопировано"});e.append(l),l.fadeIn(300),$("body").append(t),t[0].select(),document.execCommand("copy"),t.remove(),setTimeout((()=>{l.remove()}),400)}(s.closest("[data-copy]")),s[0].closest(".bid__drafts-btn")&&s.closest(".bid__drafts-btn").toggleClass("open").next().slideToggle(),s[0].closest(".bid__drafts-delete")){let e=s.closest(".bid__drafts-content");s.closest(".bid__drafts-item").remove(),0===e.find(".bid__drafts-item").length&&e.html($("<p/>",{class:"bid__drafts-empty",text:"Черновики заявок отсутствуют"}))}s.hasClass("choise-btn")&&(s.toggleClass("selected"),s.hasClass("selected")?s.text("Выбрано"):s.text("Выбрать")),s.hasClass("bid__save")&&(s.addClass("saved"),s.text("Сохранено")),s[0].closest(".service-delete")&&s.next().fadeIn(),s.hasClass("service-delete__body-cancel")&&s.closest(".service-delete__body").fadeOut(),s.hasClass("service-delete__body-delete")&&s.closest(".services-list__item").remove(),s[0].closest(".bid__toggler")&&s.closest(".bid__toggler").next().toggleClass("visible"),s[0].closest(".bid__filters-clear")&&$(".bid__filter-input").each((function(e,s){s.checked=!1}))})),$(".file-loader").on("dragover",(function(e){e.preventDefault(),$(this).addClass("over")})),$(".file-loader > .file-loader__input").on("change",(function(s){e($(this).closest(".file-loader"),$(this)[0].files[0])})),$(".file-loader").on("dragend",(function(){$(this).removeClass("over")})),$(".file-loader").on("dragleave",(function(){$(this).removeClass("over")})),$(".file-loader").on("drop dragdrop",(function(s){if(s.preventDefault(),s.originalEvent.dataTransfer.files.length>0){let t=s.originalEvent.dataTransfer.files;$(this).find(".file-loader__input").files=t,e($(this),s.originalEvent.dataTransfer.files[0])}})),$(".bid__search-input").on("focus",(()=>{$(".bid__search-input").addClass("focus").closest(".bid__search").find(".bid__search-box").slideDown()})),$(".bid__search-input").on("blur",(()=>{$(".bid__search-input").removeClass("focus").closest(".bid__search").find(".bid__search-box").slideUp()})),$('[name="grid-toggler"]').on("change",(function(e){"row"==$(e.target).val()?$(".grid-list").addClass("row"):$(".grid-list").removeClass("row")}))}))})();